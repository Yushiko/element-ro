//===== Element-ro Script ======================================= 
//= Party Warper 
//===== By: ================================================== 
//= Sergio Lomeli 
//===== Current Version: ===================================== 
//= 1.0 
//===== Description: ========================================= 
//= Warpea a una party a Endless Tower 
//===== Additional Comments: ================================= 
//= 
//============================================================  
 
prontera.gat,205,175,3     script     Party Warper     112,{ 
     mes "[ ^FF0000Warper^000000 ]"; 
     mes "Hola, Estas listo"; 
     mes "para el gran reto?"; 
     cutin "hu_alex01",2; 
     menu "Si, claro",Rsi1,"No, en otra ocasión",Rno1;
Rsi1: 
          mes "[ ^FF0000Warper^000000 ]"; 
          mes "Para poder hacer este"; 
          mes "reto necesitas tener"; 
          mes "una party de 5 miembros..."; 
          next; 
          mes "[ ^FF0000Warper^000000 ]"; 
          mes "Cuentas con los requisitos?"; 
          menu "Si, claro",Rsi2,"No cuento con eso", Rno1;
Rsi2: 
          set @conectados,0; 
          set @count,0; 
          set @partyid, getcharid(1); 
          if (@partyid == 0) goto NOparty; 
          getpartymember (@partyid); 
          set @party,$@partymembercount; 
          if (@party >= 5) goto Members; 
          else goto NO5party;
Members: 
          copyarray @partynombres$[0],$@partymembername$[0],@party; 
          if ((@count == @party)) goto Partywarp; 
          if (getmapxy (@mapname$,@mapx,@mapy,0,@partynombres$[@count]) != 0)  
          { 
               set @count,@count + 1; 
               goto Members; 
          } 
          if ((@mapx < 195) || (@mapx > 215 ) || (@mapy < 165) || (@mapy > 185) || (@mapname$ != "prontera")) goto NO5party; 
          set @conectados, @conectados + 1; 
          set @count, @count + 1; 
          goto Members;
Partywarp: 
          if (@conectados < 5) goto NO5party; 
          warpparty "morocc",160,110,@partyid; 
          cutin "hu_alex01",255; 
          end;          
Rno1: 
          mes "[ ^FF0000Warper^000000 ]"; 
          mes "Vuelve cuando estes listo"; 
          mes "..."; 
          cutin "hu_alex01",255; 
          close;     
NO5party: 
          mes "[ ^FF0000Warper^000000 ]"; 
          mes "Lo siento, pero no tienes"; 
          mes "los miembros necesarios"; 
          next; 
          mes "[ ^FF0000Warper^000000 ]"; 
          mes "Los miembros deben"; 
          mes "estar conectados"; 
          mes "y cerca de mi para"; 
          mes "poder llevarlos."; 
          cutin "hu_alex01",255; 
          close;
NOparty: 
          mes "[ ^FF0000Warper^000000 ]"; 
          mes "Lo siento pero no cuentas"; 
          mes "con una party."; 
          cutin "hu_alex01",255; 
          close; 
}